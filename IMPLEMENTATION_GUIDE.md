# Complete Step-by-Step Implementation Guide

## Quick Start Commands

Open PowerShell and run these commands in sequence:

```powershell
# 1. Navigate to your directory
cd c:\Users\HP\Downloads\Nav

# 2. Create Laravel project
composer create-project laravel/laravel ki-admin-laravel

# 3. Go to project directory
cd ki-admin-laravel

# 4. Install Laravel Breeze with Vue
composer require laravel/breeze --dev
php artisan breeze:install vue

# 5. Install Laravel Socialite
composer require laravel/socialite

# 6. Install NPM dependencies
npm install

# 7. Copy the provided files (instructions below)

# 8. Setup database and run migrations
php artisan migrate

# 9. Start development servers (open two PowerShell windows)
# Window 1:
php artisan serve

# Window 2:
npm run dev
```

## Detailed File Placement

### 1. Copy Laravel Backend Files

Copy files from `ki-admin/laravel-files/` to your new Laravel project:

```
GoogleController.php → app/Http/Controllers/Auth/GoogleController.php
add_google_id_to_users_table.php → database/migrations/XXXX_XX_XX_XXXXXX_add_google_id_to_users_table.php
web.php → routes/web.php (REPLACE existing file)
services.php → config/services.php (REPLACE existing file)
app.js → resources/js/app.js (REPLACE existing file)
package.json → package.json (REPLACE existing file)
```

### 2. Copy Vue Components

Copy files from `ki-admin/vue-components/` to Laravel:

```
Login.vue → resources/js/Pages/Auth/Login.vue
Dashboard.vue → resources/js/Pages/Dashboard.vue
AuthenticatedLayout.vue → resources/js/Layouts/AuthenticatedLayout.vue
```

### 3. Copy Assets

Copy the entire assets directory:

```powershell
# From PowerShell in ki-admin-laravel directory:
xcopy /E /I ..\ki-admin\assets public\assets
```

This copies:
- CSS files
- JavaScript files
- Images
- Fonts
- Icons
- Vendor libraries

## Environment Configuration

Edit `.env` file in `ki-admin-laravel`:

```env
APP_NAME="Ki-Admin"
APP_ENV=local
APP_KEY=base64:... # Generated by Laravel
APP_DEBUG=true
APP_URL=http://localhost:8000

# Database Configuration
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=ki_admin_db
DB_USERNAME=root
DB_PASSWORD=your_password

# Google OAuth Configuration
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/auth/google/callback
```

## Google OAuth Setup

### Step 1: Create Google Cloud Project

1. Go to https://console.cloud.google.com/
2. Click "Select a project" → "New Project"
3. Name it "Ki-Admin" and click "Create"

### Step 2: Enable Google+ API

1. In the dashboard, go to "APIs & Services" → "Library"
2. Search for "Google+ API"
3. Click on it and press "Enable"

### Step 3: Create OAuth Credentials

1. Go to "APIs & Services" → "Credentials"
2. Click "Create Credentials" → "OAuth client ID"
3. If prompted, configure the OAuth consent screen:
   - User Type: External
   - App name: Ki-Admin
   - User support email: your email
   - Developer contact: your email
   - Save and continue through all steps

4. Now create OAuth client ID:
   - Application type: Web application
   - Name: Ki-Admin Web Client
   - Authorized redirect URIs:
     * http://localhost:8000/auth/google/callback
     * http://127.0.0.1:8000/auth/google/callback

5. Click "Create"
6. Copy the Client ID and Client Secret
7. Paste them into your `.env` file

## Database Setup

### Option 1: MySQL (Recommended)

```powershell
# Install MySQL if not already installed
# Download from: https://dev.mysql.com/downloads/installer/

# Open MySQL command line or use phpMyAdmin
mysql -u root -p

# Create database
CREATE DATABASE ki_admin_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
EXIT;
```

### Option 2: SQLite (Quick Testing)

Update `.env`:

```env
DB_CONNECTION=sqlite
# Comment out other DB_ variables
```

Create database file:

```powershell
New-Item database\database.sqlite
```

### Run Migrations

```powershell
php artisan migrate
```

This creates:
- users table
- password_reset_tokens table
- sessions table
- And adds google_id and avatar columns

## File Structure Overview

After setup, your project should look like:

```
ki-admin-laravel/
├── app/
│   └── Http/
│       └── Controllers/
│           └── Auth/
│               └── GoogleController.php
├── config/
│   └── services.php (updated)
├── database/
│   └── migrations/
│       └── XXXX_add_google_id_to_users_table.php
├── public/
│   └── assets/ (copied from original template)
│       ├── css/
│       ├── js/
│       ├── images/
│       ├── fonts/
│       └── vendor/
├── resources/
│   ├── js/
│   │   ├── Layouts/
│   │   │   └── AuthenticatedLayout.vue
│   │   ├── Pages/
│   │   │   ├── Auth/
│   │   │   │   └── Login.vue
│   │   │   └── Dashboard.vue
│   │   └── app.js
│   └── css/
├── routes/
│   └── web.php (updated)
├── .env (configured)
├── composer.json
└── package.json (updated)
```

## Testing the Application

### 1. Start Servers

Open TWO PowerShell windows:

**Window 1 - Laravel Server:**
```powershell
cd c:\Users\HP\Downloads\Nav\ki-admin-laravel
php artisan serve
```

You should see: `Server running on [http://127.0.0.1:8000]`

**Window 2 - Vite Dev Server:**
```powershell
cd c:\Users\HP\Downloads\Nav\ki-admin-laravel
npm run dev
```

You should see: `VITE v4.x.x ready in xxx ms`

### 2. Access the Application

Open your browser and go to: http://localhost:8000

You should see the login page with "Continue with Google" button.

### 3. Test Google Login

1. Click "Continue with Google"
2. Select your Google account
3. Allow the app permissions
4. You should be redirected to the dashboard

## Troubleshooting

### Error: "Class 'Socialite' not found"

```powershell
composer require laravel/socialite
php artisan config:clear
```

### Error: "Vite manifest not found"

```powershell
npm install
npm run dev
```

Make sure Vite is running in a separate terminal.

### Error: "SQLSTATE[HY000] [1045] Access denied"

Check your database credentials in `.env` file and ensure MySQL is running.

### Error: "The GET method is not supported"

Make sure you're using POST for logout:
```javascript
router.post(route('logout'));
```

### Assets not loading (404 errors)

```powershell
# Copy assets again
xcopy /E /I ..\ki-admin\assets public\assets

# Clear cache
php artisan cache:clear
php artisan config:clear
```

### Google OAuth "redirect_uri_mismatch"

1. Check that the redirect URI in Google Console exactly matches your .env:
   ```
   http://localhost:8000/auth/google/callback
   ```
2. No trailing slashes
3. Use http (not https) for local development
4. Clear browser cache and try again

## Additional Pages (Coming Soon)

Create these Vue components for additional pages:

```
resources/js/Pages/
├── Products/
│   ├── Index.vue
│   ├── Create.vue
│   └── Edit.vue
├── Orders/
│   ├── Index.vue
│   └── Details.vue
├── Blog/
│   ├── Index.vue
│   ├── Create.vue
│   └── Edit.vue
└── Settings/
    └── Index.vue
```

## Production Deployment

When ready for production:

1. Update `.env`:
```env
APP_ENV=production
APP_DEBUG=false
APP_URL=https://yourdomain.com
```

2. Build assets:
```powershell
npm run build
```

3. Optimize Laravel:
```powershell
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

4. Update Google OAuth redirect URI to production URL

## Security Checklist

- [ ] Generate new APP_KEY: `php artisan key:generate`
- [ ] Never commit `.env` file
- [ ] Use HTTPS in production
- [ ] Keep Google Client Secret secure
- [ ] Set strong database password
- [ ] Configure CSRF protection
- [ ] Enable rate limiting
- [ ] Regular security updates

## Need Help?

Check these resources:
- Laravel Documentation: https://laravel.com/docs
- Inertia.js: https://inertiajs.com/
- Vue 3: https://vuejs.org/
- Laravel Socialite: https://laravel.com/docs/socialite

## Next Steps

1. ✅ Follow this guide to set up the project
2. ✅ Test Google login
3. ⏭️ Customize the dashboard with your data
4. ⏭️ Add more pages (Products, Orders, etc.)
5. ⏭️ Implement CRUD operations
6. ⏭️ Add role-based permissions
7. ⏭️ Deploy to production
